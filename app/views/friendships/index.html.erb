<div class="container">
  <h1 class="title">Friendships</h1>
  <% if @profile.present? %>
    <% if @friend_requests.present? %>
      <h2>You have Friend Requests!</h2>
      <table class="table friend-requests">
        <% @friend_requests.each do |friendship| %>
          <tr>
            <td><%= link_to friendship.friend %></td>
            <td><%= accept_friendship_button(friendship, current_user&.profile) %></td>
            <td><%= destroy_friendship_button(friendship, current_user&.profile) %></td>
            <td><%= block_button(friendship, current_user&.profile) %></td>
          </tr>
        <% end %>
    <% end %>
    </table>

    <table class="table">
      <thead>
        <tr>
          <th>Friend</th>
          <th>Status</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @friendships.each do |friendship| %>
          <tr>
            <td><%= link_to friendship.friend %></td>
            <td><%= friendship.status %></td>
            <td><%= view_friendship(friendship) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <h2><%= link_to "Make a Profile", new_profile_path %> to start making friends!</h2>
  <% end %>
</div>
